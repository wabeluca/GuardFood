<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GuardFood - Cliente</title>
    <link href="src/css/admin.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@7.2.96/css/materialdesignicons.min.css" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <style>

        .item {
            width: 100%;
            margin-right: 1rem;
            padding: 1rem;
            transition: 0.25s ease-in-out;
            border-radius: 5px;
        }

        .categoria .item:hover {
            background-color: rgb(108,117,125);
            color: white;
        }

    </style>
</head>
<body>
    <div class="row h-100">
        <div class="col-12 p-3">
            <div class="bg-white h-100 p-3 d-flex flex-column">
                <div class="d-flex justify-content-between">
                    <span class="text-danger px-2 w-auto fs-2 fw-bold">Restaurantes</span>
                </div>
                <div id="conteudo" class="mt-5">
                    <div class="categoria d-flex align-items-center text-secondary justify-content-around" style="font-size: 5em;">
                        <div class="item d-flex flex-column align-items-center justify-content-center">
                            <span class="mdi mdi-food-hot-dog"></span>
                            <p class="fs-5">Cachorro quente</p>
                        </div>
                        <div class="item d-flex flex-column align-items-center justify-content-center">
                            <span class="mdi mdi-pizza"></span>
                            <p class="fs-5">Pizza</p>
                        </div>
                        <div class="item d-flex flex-column align-items-center justify-content-center">
                            <span class="mdi mdi-hamburger"></span>
                            <p class="fs-5">Hamburguer</p>
                        </div>
                        <div class="item d-flex flex-column align-items-center justify-content-center">
                            <span class="mdi mdi-fish"></span>
                            <p class="fs-5">Comida Oriental</p>
                        </div>
                        <div class="item d-flex flex-column align-items-center justify-content-center">
                            <span class="mdi mdi-food-croissant"></span>
                            <p class="fs-5">Padaria</p>
                        </div>
                        <div class="item d-flex flex-column align-items-center justify-content-center">
                            <span class="mdi mdi-food-fork-drink"></span>
                            <p class="fs-5">Fast Food</p>
                        </div>
                        <div class="item d-flex flex-column align-items-center justify-content-center">
                            <span class="mdi mdi-food-steak"></span>
                            <p class="fs-5">Comida Brasileira</p>
                        </div>
                    </div>
                    <ul id="minhaLista" class="list-unstyled">
                    </ul>
                </div>
                <div id="detalhe">
                    <ul id="lista-produtos">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="d-flex">
                                <div class="me-3">
                                    <span class="mdi mdi-food fs-1"></span>
                                </div>
                                <div>
                                    <p class="fw-bold">Produto 1</p>
                                    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ut voluptatum explicabo officiis in placeat numquam inventore eaque quos iure recusandae tempora eum, quo nesciunt, tenetur voluptatibus a exercitationem reiciendis dolore.</p>
                                </div>
                            </div>
                            <div>
                                <span class="mdi mdi-cart-plus fs-3"></span>
                            </div>
                        </div>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/@brazilian-utils/brazilian-utils/dist/brazilian-utils.cjs.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</body>

<script>
const minhaLista = document.getElementById("minhaLista");

axios.get("https://localhost:7016/restaurante/todos")
    .then(response => {
        console.log(response.data);
        response.data.forEach((item) => {
            adicionarItem(minhaLista, item);
        });
    })
    .catch(error => {
        console.error("Erro ao enviar os dados para a API:", error);
    });

// Função para criar e adicionar um item à lista
function adicionarItem(lista, item) {
const li = document.createElement("li");
li.dataset.id = item.id;
li.classList.add("p-3");
li.style.borderBottom = "2px solid #dc3545";

const div = document.createElement("div");
div.classList.add("d-flex", "justify-content-between", "align-items-center");

const divEsquerda = document.createElement("div");
divEsquerda.classList.add("w-50", "d-flex", "align-items-center");

const divTexto = document.createElement("div");
divTexto.style.marginLeft = "15px";

const img = document.createElement("img");
img.src = item.logo;
img.style.maxWidth = "75px";

const h4 = document.createElement("h4");
h4.textContent = item.nome;

const descricao = document.createElement("small");
descricao.textContent = item.descricao;

divTexto.appendChild(h4);
divTexto.appendChild(descricao);
divEsquerda.appendChild(img);
divEsquerda.appendChild(divTexto);

const divDireita = document.createElement("div");

const spanVisualizar = document.createElement("span");
spanVisualizar.classList.add("mdi", "mdi-arrow-right", "fs-3", "text-danger");
spanVisualizar.style.cursor = "pointer";
spanVisualizar.onclick = () => { abrirDetalhe(item.id) };

divDireita.appendChild(spanVisualizar);

div.appendChild(divEsquerda);
div.appendChild(divDireita);

li.appendChild(div);
lista.appendChild(li);
}


function abrirDetalhe(id) {
    axios.get("https://localhost:7016/restaurante/detalhe/" + id)
    .then(response => {
        console.log(response.data);
        document.getElementById("conteudo").style.display = "none";
    })
    .catch(error => {
        console.error("Erro ao enviar os dados para a API:", error);
    });
}
</script>

</html>